# 要件定義（タイトル：未定） {#top}
- 日付: （あとで記入）
- 作成者: （あとで記入）
- 対象: （あとで記入）

## 0. 目次 {#toc}
- [1. 概要](#s1-overview)
- [2. ゴール](#s2-goal)
- [3. 必須要件](#s3-must)
- [4. 任意要件](#s4-nice)
- [5. 画面構成](#s5-ui)
- [6. 非機能](#s6-nfr)
- [7. TODO](#s7-todo)
- [8. 変更履歴](#s8-changelog)

---

## 1. 概要 {#s1-overview}
"Notionのようにシンプル"な閲覧とコピーワンタップに特化した単一HTMLページを作成します。スマホ最適化（iOS/Android）を前提とし、1〜85の項目すべてに固有アンカー（#p{番号}）を付与します。ページ最上部には"ジャンル一覧"を配置し、各ジャンルの"先頭項目"へ一発ジャンプできる導線を提供します。UIは無駄を極力排し、余白・行間・読みやすさを最優先にします。

[↑ 目次へ](#toc)

## 2. ゴール {#s2-goal}
- ワンタップで"その項目の本文のみ"を確実にコピーできること  
- URLハッシュ（例：...#p37）で該当項目へ即時スクロールできること  
- 最上部"ジャンル一覧"から各ジャンルの先頭（#p1/#p13/...）へ移動できること  
- スマホ（幅320px〜）で横スクロールなく快適に閲覧・コピーできること

[↑ 目次へ](#toc)

## 3. 必須要件 {#s3-must}
### UI要件（ページ構成）
- ヘッダー：サイト名（任意）＋右上固定の"コピー"は基本無し（各項目ボタンを主機能とする）
- ジャンルナビ：ページ最上部に9ジャンルをカード/リンクで表示。タップで各ジャンル先頭へジャンプ
- コンテンツ本体：1〜85の各項目＝"タイトル＋本文（プロンプト）"ブロックを縦並び表示
- フッター：コピー方法・更新日など最小限

### 見た目（Notion風）
- 余白広め・無彩色中心・薄い罫線、アイコン/アニメ最小  
- 見出し/本文/"コード風枠（プロンプト表示エリア）"で最小構成  
- フォント：system-ui, -apple-system, "Noto Sans JP" など

### コピーUI
- 各項目のプロンプト枠右上に"コピー"ボタン  
- `navigator.clipboard.writeText()` → 失敗時 `document.execCommand('copy')` へフォールバック  
- コピー成功/失敗をトーストで1.5秒表示（重ねず更新）  
- iOS対策：ユーザー操作に紐付け。自動コピーは行わない

### アンカー・スクロール
- 各項目ラッパーに `id="p{番号}"`  
- ジャンル/内部リンクは `href="#p{番号}"`  
- 着地視認性向上のため `.item { scroll-margin-top: 固定ヘッダー高 }` を設定

### モバイル最適化
- 1カラム、16px以上のタップ領域、行間1.6+、右上UI周囲に十分な余白

[↑ 目次へ](#toc)

## 4. 任意要件 {#s4-nice}
- ハッシュ遷移で着地した項目に"一時的ハイライト（約1秒）"を付与  
- グローバル右上の"現在表示中セクションの本文をコピー"ボタン（補助機能として）  
- データ差し替え前提の設計：初期はHTML直書き、将来はJSON分離でタイトル/本文を差し替え

[↑ 目次へ](#toc)

## 5. 画面構成 {#s5-ui}
### 情報設計・ナビ
- "ジャンル一覧"はページ最上部。各リンクは"そのジャンルの最初の番号"へジャンプ  
- 全項目アンカー：#p1 〜 #p85（命名：p＋番号）  
- URLハッシュ直接アクセスで自動スクロール。ブラウザの戻る/進むでハッシュ遷移を反映

### ジャンル定義（固定）
- ① コミュニケーション（メール・チャット）：1〜12（#p1）  
- ② 会議・仕事整理（要約・ToDo）：13〜24（#p13）  
- ③ 学習・リサーチ（読み解き）：25〜34（#p25）  
- ④ 文章改善・表現（リライト）：35〜46（#p35）  
- ⑤ SNS・発信（X/ブログ/インスタ/スライド）：47〜56（#p47）  
- ⑥ 企画・アイデア（ブレスト）：57〜66（#p57）  
- ⑦ 私生活・効率（家事・予定・習慣）：67〜76（#p67）  
- ⑧ データ・数（やさしめ表/計算）：77〜81（#p77）  
- ⑨ クリエイティビティ＆ウェルビーイング：82〜85（#p82）

### HTML構造（概要）
- `<header>`：サイト名  
- `<nav id="genres">`：ジャンルリンク（#p1 / #p13 / …）  
- `<main>`：`<section id="p1" class="item">` … `<section id="p85" class="item">`  
- `<footer>`：更新日など

### スタイル要点
- 本文16px以上・行間1.6・左右約24pxの余白  
- 項目間は16〜24px  
- プロンプト枠は `pre` または `div + white-space: pre-wrap`、薄い枠線と8px角丸  
- コピーボタンは枠の右上（`position:absolute; top:8px; right:8px;`）  
- 固定ヘッダー運用時は `.item { scroll-margin-top: 72px; }` など

[↑ 目次へ](#toc)

## 6. 非機能 {#s6-nfr}
### パフォーマンス
- ライブラリ非依存（純JS/CSS/HTMLのみ）。画像・外部フォント不使用

### アクセシビリティ
- コピーボタンに `aria-label="コピー"`  
- トーストは `aria-live="polite"`  
- コントラストはWCAG準拠

### レスポンシブ/互換性/セキュリティ
- 幅320px〜で横スクロールなし  
- 対応：最新Safari/Chrome/Edge/Firefox（iOS/Android/Desktop）  
- スクリプトは同一ファイルに内包。外部送信なし。クリップボード操作はユーザー操作に紐付け

### データモデル（静的版）
- 項目：番号／タイトル／本文（プロンプト）  
- ジャンル：名称／範囲（開始・終了番号）／先頭アンカー  
- 初期はHTML直書き、将来JSON化で差し替え

### 受け入れ基準（サンプル）
- スマホSafariで任意項目の"コピー"を1タップ → その項目本文のみがクリップボードへ入る  
- `...#p47` で開くと"47"の項目が先頭付近に表示される  
- "④ 文章改善・表現"をタップすると #p35 にスクロール  
- コピーボタン連打でもエラーなく、トーストは重ならず更新される  
- 幅320px端末でも横スクロールなし

[↑ 目次へ](#toc)

## 7. TODO {#s7-todo}

### 実装
- [ ] コピー処理：`navigator.clipboard.writeText()` → 失敗時 `document.execCommand('copy')` フォールバック
- [ ] トースト通知（1.5秒）：成功/失敗メッセージ、`aria-live="polite"`、重ねず更新
- [ ] 各項目の"コピー"ボタン設置（右上）：`aria-label="コピー"`、タップ領域16px+
- [ ] アンカーID：`id="p{番号}"` を1〜85に付与、ジャンルリンクは `#p1/#p13/#p25/#p35/#p47/#p57/#p67/#p77/#p82`
- [ ] スクロール視認性：`.item { scroll-margin-top: 72px; }`（固定ヘッダー運用を想定）
- [ ] 着地ハイライト（任意）：ハッシュ着地時に対象項目へ1秒の淡色ハイライト
- [ ] Notion風スタイル：無彩色・薄い枠・角丸8px・行間1.6・左右余白約24px
- [ ] モバイル最適化：1カラム、横スクロール無し、右上UIの誤タップ防止余白

### DOM構造（統一）
- [ ] 各項目：`section.item#p{番号}` の直下に `h3.title` と `div.prompt`（または `pre.prompt`）
- [ ] コピーボタン：`button.copy`（項目内で絶対配置）

### 初期データ
- [ ] 85項目のダミー（タイトル/本文）を一括生成（後日差し替えしやすい置き方）
- [ ] ジャンルナビの9リンク（固定）を `<nav id="genres">` に実装

### アクセシビリティ
- [ ] 重要UIの `aria-*` 付与（コピー/トースト）
- [ ] フォーカス移動：コピー後もボタンにフォーカスを維持（意図せぬスクロールを防ぐ）
- [ ] コントラスト確認（WCAG相当）

### パフォーマンス/セキュリティ
- [ ] 外部ライブラリ/外部フォント不使用、JS/CSSは同一HTMLに内包
- [ ] クリップボード操作は"ボタン押下"に紐付け（自動コピー禁止）

### 受け入れ基準（抜粋）
- [ ] 任意の項目で"コピー"1タップ → その項目の本文のみがクリップボードへ
- [ ] `...#p47` で開くと"47"の項目へスクロール
- [ ] "④ 文章改善・表現"タップで `#p35` へ
- [ ] トーストは連打でも重ならず更新
- [ ] 幅320pxで横スクロール無し

[↑ 目次へ](#toc)

## 8. 変更履歴 {#s8-changelog}
- YYYY-MM-DD: 初版作成  
[↑ 目次へ](#toc)